"use strict";var e,t,n,o;(e=>{function t(e){return null!=e&&""!==e.toString()}function n(e){return t(e)&&"object"==typeof e}function o(e){return n(e)&&e instanceof Array}e.defined=t,e.definedObject=n,e.definedBoolean=function(e){return t(e)&&"boolean"==typeof e},e.definedString=function(e){return t(e)&&"string"==typeof e},e.definedFunction=function(e){return t(e)&&"function"==typeof e},e.definedNumber=function(e){return t(e)&&"number"==typeof e},e.definedArray=o,e.definedDate=function(e){return n(e)&&e instanceof Date},e.invalidOptionArray=function(e,t=1){return!o(e)||e.length<t}})(e||(e={})),(t||(t={})).PEEK_JS_IGNORE_STATE_ATTRIBUTE="data-peek-js-ignore-state",(n=>{function o(n,o,i=""){const r=o.toLowerCase();let l="text"===r?document.createTextNode(""):document.createElement(r);return l.setAttribute(t.PEEK_JS_IGNORE_STATE_ATTRIBUTE,"ignore"),e.defined(i)&&(l.className=i),n.appendChild(l),l}function i(){const e=document.documentElement;return{left:e.scrollLeft-(e.clientLeft||0),top:e.scrollTop-(e.clientTop||0)}}n.create=o,n.createWithHTML=function(e,n,i,r){const l=o(e,n,i);return l.innerHTML=r,l.setAttribute(t.PEEK_JS_IGNORE_STATE_ATTRIBUTE,"ignore"),l},n.cancelBubble=function(e){e.preventDefault(),e.cancelBubble=!0},n.getScrollPosition=i,n.showElementAtMousePosition=function(e,t){if("block"!==t.style.display){let n=e.pageX,o=e.pageY;const r=i();t.style.display="block",n+t.offsetWidth>window.innerWidth?n-=t.offsetWidth:n++,o+t.offsetHeight>window.innerHeight?o-=t.offsetHeight:o++,n<r.left&&(n=e.pageX+1),o<r.top&&(o=e.pageY+1),t.style.left=n+"px",t.style.top=o+"px"}},n.getOffset=function(e){const t={left:0,top:0};for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t.left+=e.offsetLeft-e.scrollLeft,t.top+=e.offsetTop-e.scrollTop,e=e.offsetParent;return t}})(n||(n={})),(t=>{function n(t,n){return e.definedArray(t)?t:n}t.getDefaultAnyString=function(e,t){return"string"==typeof e?e:t},t.getDefaultString=function(t,n){return e.definedString(t)?t:n},t.getDefaultBoolean=function(t,n){return e.definedBoolean(t)?t:n},t.getDefaultNumber=function(t,n){return e.definedNumber(t)?t:n},t.getDefaultArray=n,t.getDefaultObject=function(t,n){return e.definedObject(t)?t:n},t.getDefaultStringOrArray=function(t,o){let i=o;if(e.definedString(t)){const e=t.toString().split(" ");0===e.length?t=o:i=e}else i=n(t,o);return i}})(o||(o={})),(()=>{let i={},r=null,l=null,u=null,f=null,s=0,a=null,c=[];function d(){e.definedObject(r)&&(p(),document.body.removeChild(r),r=null),r=n.create(document.body,"div","peek-js"),r.onmousemove=n.cancelBubble,l=n.create(r,"div","dialog-title-bar"),u=n.create(r,"div","dialog-contents"),f=n.create(r,"div","dialog-buttons");n.createWithHTML(f,"button","close",i.closeText).onclick=()=>{p()}}function g(){let t=a.titleText;e.definedString(t)||(1===a.mode?t=i.cssPropertiesText:2===a.mode?t=i.attributesText:3===a.mode&&(t=i.sizeText)),l.innerHTML=t}function p(){r.style.display="none"}function T(e){u.innerHTML="",u.scrollTop=0,1===a.mode?function(e){const t=getComputedStyle(e),n=t.length;for(let o=0;o<n;o++)y(e,t[o],t.getPropertyValue(t[o]))}(e):2===a.mode?function(e){if(e.hasAttributes())for(let t of e.attributes)y(e,t.name,t.value);else u.innerHTML=i.noAttributesAvailableText}(e):3===a.mode&&function(e){const t=n.getOffset(e);y(e,"left",t.left.toString()+"px",!1),y(e,"top",t.top.toString()+"px",!1),y(e,"width",e.offsetWidth.toString()+"px",!1),y(e,"height",e.offsetHeight.toString()+"px",!1)}(e)}function y(e,t,o,i=!0){if(0===a.showOnly.length||a.showOnly.indexOf(t)>-1){const r=n.create(u,"div","property-row");n.createWithHTML(r,"div","property-name",t);const l=n.create(r,"div","property-value"),f=n.create(l,"input");f.type="text",f.value=o,a.allowEditing&&i?f.onkeyup=n=>{!function(e,t,n,o){"Enter"===e.code&&o.style.setProperty(t,n.value)}(n,t,f,e)}:f.readOnly=!0}}function b(n){const o=n.getAttribute(t.PEEK_JS_IGNORE_STATE_ATTRIBUTE);e.definedString(o)||(n.addEventListener("mousemove",(e=>{m(e,n)})),c.push(n))}function m(e,t){n.cancelBubble(e),0!==s&&(clearTimeout(s),s=0),s=setTimeout((()=>{T(t),n.showElementAtMousePosition(e,r)}),i.dialogDisplayDelay)}function A(e=null){i=o.getDefaultObject(e,{}),i.dialogDisplayDelay=o.getDefaultNumber(i.dialogDisplayDelay,1e3),i.cssPropertiesText=o.getDefaultAnyString(i.cssPropertiesText,"CSS Properties"),i.attributesText=o.getDefaultAnyString(i.attributesText,"Attributes"),i.sizeText=o.getDefaultAnyString(i.sizeText,"Size"),i.noAttributesAvailableText=o.getDefaultAnyString(i.noAttributesAvailableText,"No attributes are available."),i.closeText=o.getDefaultAnyString(i.closeText,"Close")}const S={start:function(t){return e.definedObject(a)||(a=function(e){let t=o.getDefaultObject(e,{});return t.nodeType=o.getDefaultStringOrArray(t.nodeType,[]),t.mode=o.getDefaultNumber(t.mode,1),t.titleText=o.getDefaultString(t.titleText,""),t.showOnly=o.getDefaultStringOrArray(t.showOnly,[]),t.allowEditing=o.getDefaultBoolean(t.allowEditing,!1),t}(t),g(),function(){const e=a.nodeType,t=e.length;for(let n=0;n<t;n++){const t=document.getElementsByTagName(e[n]),o=[].slice.call(t),i=o.length;for(let e=0;e<i;e++)b(o[e])}window.addEventListener("mousemove",p)}()),S},stop:function(){return e.definedObject(a)&&(a=null,function(){const e=c.length;for(let n=0;n<e;n++){var t=c[n];t.removeEventListener("mousemove",(e=>{m(e,t)}))}c=[],window.removeEventListener("mousemove",p),p()}()),S},setConfiguration:function(t){if(e.definedObject(t)){let n=!1;const o=i;for(let e in t)t.hasOwnProperty(e)&&i.hasOwnProperty(e)&&o[e]!==t[e]&&(o[e]=t[e],n=!0);n&&(A(o),d(),e.definedObject(a)&&g())}return S},getVersion:function(){return"1.1.0"}};A(),document.addEventListener("DOMContentLoaded",(()=>{d()})),e.defined(window.$peek)||(window.$peek=S)})();