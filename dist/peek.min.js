"use strict";var e,t,n;(e=>{function t(e){return null!=e&&""!==e.toString()}function n(e){return t(e)&&"object"==typeof e}function o(e){return n(e)&&e instanceof Array}e.defined=t,e.definedObject=n,e.definedBoolean=function(e){return t(e)&&"boolean"==typeof e},e.definedString=function(e){return t(e)&&"string"==typeof e},e.definedFunction=function(e){return t(e)&&"function"==typeof e},e.definedNumber=function(e){return t(e)&&"number"==typeof e},e.definedArray=o,e.definedDate=function(e){return n(e)&&e instanceof Date},e.invalidOptionArray=function(e,t=1){return!o(e)||e.length<t}})(e||(e={})),(t=>{function n(t,n,o=""){const i=n.toLowerCase();let r="text"===i?document.createTextNode(""):document.createElement(i);return e.defined(o)&&(r.className=o),t.appendChild(r),r}function o(){const e=document.documentElement;return{left:e.scrollLeft-(e.clientLeft||0),top:e.scrollTop-(e.clientTop||0)}}t.create=n,t.createWithHTML=function(e,t,o,i){const r=n(e,t,o);return r.innerHTML=i,r},t.cancelBubble=function(e){e.preventDefault(),e.cancelBubble=!0},t.getScrollPosition=o,t.showElementAtMousePosition=function(e,t){if("block"!==t.style.display){let n=e.pageX,i=e.pageY;const r=o();t.style.display="block",n+t.offsetWidth>window.innerWidth?n-=t.offsetWidth:n++,i+t.offsetHeight>window.innerHeight?i-=t.offsetHeight:i++,n<r.left&&(n=e.pageX+1),i<r.top&&(i=e.pageY+1),t.style.left=n+"px",t.style.top=i+"px"}},t.getOffset=function(e){const t={left:0,top:0};for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t.left+=e.offsetLeft-e.scrollLeft,t.top+=e.offsetTop-e.scrollTop,e=e.offsetParent;return t}})(t||(t={})),(t=>{function n(t,n){return e.definedArray(t)?t:n}t.getDefaultAnyString=function(e,t){return"string"==typeof e?e:t},t.getDefaultString=function(t,n){return e.definedString(t)?t:n},t.getDefaultBoolean=function(t,n){return e.definedBoolean(t)?t:n},t.getDefaultNumber=function(t,n){return e.definedNumber(t)?t:n},t.getDefaultArray=n,t.getDefaultObject=function(t,n){return e.definedObject(t)?t:n},t.getDefaultStringOrArray=function(t,o){let i=o;if(e.definedString(t)){const e=t.toString().split(" ");0===e.length?t=o:i=e}else i=n(t,o);return i}})(n||(n={})),(()=>{let o={},i=null,r=null,l=null,u=null,f=0,c=null,a=[];function s(){e.definedObject(i)&&(g(),document.body.removeChild(i),i=null),i=t.create(document.body,"div","peek-js"),i.onmousemove=t.cancelBubble,r=t.create(i,"div","dialog-title-bar"),l=t.create(i,"div","dialog-contents"),u=t.create(i,"div","dialog-buttons");const n=t.createWithHTML(u,"button","copy",o.copyText),f=t.createWithHTML(u,"button","close",o.closeText);n.onclick=()=>{},f.onclick=()=>{g()}}function d(){let t=c.titleText;e.definedString(t)||(1===c.mode?t=o.cssPropertiesText:2===c.mode?t=o.attributesText:3===c.mode&&(t=o.sizeText)),r.innerHTML=t}function g(){i.style.display="none"}function p(e){l.innerHTML="",l.scrollTop=0,1===c.mode?function(e){const t=getComputedStyle(e),n=t.length;for(let e=0;e<n;e++)y(t[e],t.getPropertyValue(t[e]))}(e):2===c.mode?function(e){if(e.hasAttributes())for(let t of e.attributes)y(t.name,t.value);else l.innerHTML=o.noAttributesAvailableText}(e):3===c.mode&&function(e){const n=t.getOffset(e);y("left",n.left.toString()+"px"),y("top",n.top.toString()+"px"),y("width",e.offsetWidth.toString()+"px"),y("height",e.offsetHeight.toString()+"px")}(e)}function y(e,n){const o=t.create(l,"div","property-row");t.createWithHTML(o,"div","property-name",e);const i=t.create(o,"div","property-value"),r=t.create(i,"input");r.type="text",r.readOnly=!0,r.value=n}function b(e){e.addEventListener("mousemove",(t=>{m(t,e)})),a.push(e)}function m(e,n){t.cancelBubble(e),0!==f&&(clearTimeout(f),f=0),f=setTimeout((()=>{p(n),t.showElementAtMousePosition(e,i)}),o.dialogDisplayDelay)}function T(e=null){o=n.getDefaultObject(e,{}),o.dialogDisplayDelay=n.getDefaultNumber(o.dialogDisplayDelay,1e3),o.cssPropertiesText=n.getDefaultAnyString(o.cssPropertiesText,"CSS Properties"),o.attributesText=n.getDefaultAnyString(o.attributesText,"Attributes"),o.sizeText=n.getDefaultAnyString(o.sizeText,"Size"),o.noAttributesAvailableText=n.getDefaultAnyString(o.noAttributesAvailableText,"No attributes are available."),o.closeText=n.getDefaultAnyString(o.closeText,"Close"),o.copyText=n.getDefaultAnyString(o.copyText,"Copy")}const v={start:function(t){return e.definedObject(c)||(c=function(e){let t=n.getDefaultObject(e,{});return t.nodeType=n.getDefaultStringOrArray(t.nodeType,[]),t.mode=n.getDefaultNumber(t.mode,1),t.titleText=n.getDefaultString(t.titleText,""),t}(t),d(),function(){const e=c.nodeType,t=e.length;for(let n=0;n<t;n++){const t=document.getElementsByTagName(e[n]),o=[].slice.call(t),i=o.length;for(let e=0;e<i;e++)b(o[e])}window.addEventListener("mousemove",g)}()),v},stop:function(){return e.definedObject(c)&&(c=null,function(){const e=a.length;for(let n=0;n<e;n++){var t=a[n];t.removeEventListener("mousemove",(e=>{m(e,t)}))}a=[],window.removeEventListener("mousemove",g),g()}()),v},setConfiguration:function(t){if(e.definedObject(t)){let n=!1;const i=o;for(let e in t)t.hasOwnProperty(e)&&o.hasOwnProperty(e)&&i[e]!==t[e]&&(i[e]=t[e],n=!0);n&&(T(i),s(),e.definedObject(c)&&d())}return v},getVersion:function(){return"1.0.0"}};T(),document.addEventListener("DOMContentLoaded",(()=>{s()})),e.defined(window.$peek)||(window.$peek=v)})();